<!DOCTYPE html>
<!--[if lt IE 7 ]>
<html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>
<html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>
<html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html class="not-ie" lang="en" xmlns:th="http://www.thymeleaf.org"><!--<![endif]-->

<head th:replace="fragment/common :: headerFragment"/>
<body>
<section th:replace="fragment/common :: topFragment"/>
<section th:replace="fragment/common :: titleBar (title='Evaluating the Program')"/>
<textArea th:replace="fragment/forms :: questionTemplate"/>
<textArea th:replace="fragment/common :: questionTemplate5"/>

<form th:action="@{/questions/Evaluation}" th:object="${model}" method="POST">
    <!-- Add timer -->
    <input id="timeOnPage" name="timeOnPage" type="hidden"/>
    <div class="container">
        <div class="row">
            <div class="col-md-10">

                <p> Thank you for taking the time to go through Calm Thinking!
                    We are interested in your feedback and reactions to the training programs, assessments, and
                    other aspects of the website.
                    Please answer the following questions openly and honestly. Your feedback will help us improve
                    Calm Thinking. </p>
                <p> Note that <b>assessment sessions</b> were sessions in which you completed questionnaires about
                    your
                    feelings and thoughts.
                    <b>Training sessions</b> were sessions in which you completed words at the end of
                    sentences. </p>
            </div>
        </div>

        <div class="container section">
            <div class="row">
                <div class="col-md-10">
                    <p><b>What device(s) did you use to complete the program? Please check all that apply.</b></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="devices" value="smartphone"/> Smartphone </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="devices" value="computer"/> Computer </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="devices" value="tablet"/> Tablet </label>
                    </div>
                </div>
            </div>
        </div>

        <section th:replace="fragment/forms :: radioOptions(${model})"/>

        <div class="container section">
            <label class="question"> This training program was five sessions. How many sessions do you think would have
                been ideal?
                <input type="number" min="1" th:field="*{idealSessions}" required="true"/> </label>
        </div>

        <div class="container section">
            <div id="section1"></div>
            <script>
                var data = {
                    "options": [
                        {"value": 0, "title": "No, definitely not"},
                        {"value": 1, "title": "No, probably not"},
                        {"value": 2, "title": "Not sure"},
                        {"value": 3, "title": "Yes, I probably would"},
                        {"value": 4, "title": "Yes, I definitely would"}
                    ],
                    "questions": [
                        {
                            "name": "similarProgram",
                            "desc": "If you were to seek help for your anxiety again, would you seek a similar program?"
                        }
                    ]
                }
                $('#section1').html(Mustache.render($('#template5').val(), data));
            </script>
        </div>

        <div class="container section">
            <div id="section2"></div>
            <script>
                var data = {
                    "options": [
                        {"value": 0, "title": "Much more likely"},
                        {"value": 1, "title": "A little more likely"},
                        {"value": 2, "title": "Not sure"},
                        {"value": 3, "title": "A little less likely"},
                        {"value": 4, "title": "Much less likely"},
                        {
                            "value": 5,
                            "title": "Not applicable (e.g., I'm currently undergoing another form of treatment)"
                        }
                    ],
                    "questions": [
                        {
                            "name": "otherTreatment",
                            "desc": "If you were to experience moderate-to-severe anxiety in the future, does this program make you more or less likely to consider other forms of therapy (e.g., medications, therapy)?"
                        }
                    ]
                }
                $('#section2').html(Mustache.render($('#template5').val(), data));
            </script>
        </div>

        <div class="container section">
            <div class="row">
                <div class="col-md-10">
                    <p><b>Where did you complete the training sessions? Check all that apply.</b></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8 side-border">
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="places" value="home"/> At home </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="places" value="work"/> At work </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="places" value="publicPlace"/> At a public space, such as a library, coffee shop,
                            or restaurant </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="places" value="commute"/> While commuting/travelling (e.g., on the train to work)
                        </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input
                                type="checkbox"
                                name="places" value="vacation"/> On vacation </label>
                    </div>
                    <div class="radio">
                        <label class="question"> <input id="places_other"
                                                        onchange="sub('places_other');spec('places_other');"
                                                        type="checkbox" name="evaluation"
                                                        value="otherComplete"/> Other: <input
                                id="places_other_spec" type="text" name="otherPlace" value="N/A"/> </label>
                    </div>
                </div>
                <div class="col-md-4">
                    <br/>
                    <br/>
                    <div class="radio">
                        <label class="question"><input type="checkbox" name="places" value="555"
                                                       onchange="disableSection(this)"/> Prefer not to answer
                        </label>
                    </div>
                    <br/>
                    <br/>
                </div>
            </div>
        </div>


        <!--
        <div class="container section compactQuestion">
            <div id="section1"></div>
            <script>
                var data = {
                    "options":  [
                        { "value":0, "title":"Not at all"},
                        { "value":1, "title":"Slightly"},
                        { "value":2, "title":"Somewhat"},
                        { "value":3, "title":"Mostly"},
                        { "value":4, "title":"Very"}
                    ],
                    "questions": [
                        { "name":"helpful", "desc" : "How helpful did you find the web program for changing your future thinking?"},
                        { "name":"quality",   "desc": "How much did the web program improve your overall quality of life?"},
                        { "name":"overallMood",   "desc": "How much did the web program help improve your overall mood (e.g feeling happier)?"},
                        { "name":"recommend",   "desc": "How likely would you be to recommend this web program to others with a similar negative future thinking style?"}
                    ]
                }
                $('#section1').html(Mustache.render( $('#template').val(), data ));
            </script>
        </div>

        <div class="container section compactQuestion">
            <div id="section2"></div>
            <script>
                var data = {
                    "options":  [
                        { "value":0, "title":"Not at all"},
                        { "value":1, "title":"Slightly"},
                        { "value":2, "title":"Somewhat"},
                        { "value":3, "title":"Mostly"},
                        { "value":4, "title":"Very"}
                    ],
                    "questions": [
                        { "name":"easy",   "desc": "How easy was the web program to use?"},
                        { "name":"interest",   "desc": "How much did the web program keep your interest and attention?"},
                        { "name":"likeGral",   "desc": "How much did you like the web program in general?"},
                        { "name":"likedLooks",   "desc": "How much did you like the way the web program looked?"}
                    ]
                }
                $('#section2').html(Mustache.render( $('#template').val(), data ));

            </script>
        </div>

        <div class="container section compactQuestion">
            <div id="section3"></div>
            <script>
                var data = {
                    "options":  [
                        { "value":0, "title":"Not at all"},
                        { "value":1, "title":"Slightly"},
                        { "value":2, "title":"Somewhat"},
                        { "value":3, "title":"Mostly"},
                        { "value":4, "title":"Very"}
                    ],
                    "questions": [
                        { "name":"privacy",   "desc": "How worried were you about your privacy in using this web program?"},
                        { "name":"understandAssessment",   "desc": "How easy were the assessments to understand?"},
                        { "name":"understandTraining",   "desc": "How easy was the training program (including instructions and materials) to understand?"},
                        { "name":"trustInfo",   "desc": "How much did you feel you could trust the information?"},
                        { "name":"problems",   "desc": "To what extent did Internet or computer problems affect your use of the web program?"}
                    ]
                }
                $('#section3').html(Mustache.render( $('#template').val(), data ));
            </script>
        </div>

        <div class="container section">
            <div class="row title">
                <div class="col-md-12">
                    <h4>This training program was 4 sessions.</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    How many sessions do you think would have been ideal?
                </div>
                <div class="col-md-6">
                    <input type="text" size="2" name="idealSessions" required="required"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    Why is that number ideal?
                </div>
                <div class="col-md-6">
                    <input type="text" size="50" name="WhyIdeal" required="required"/>
                </div>
            </div>
            <div class="row radio">
                <div class="col-md-6">
                <label><input type="checkbox" name="IdealSessions" value="555"
                              onchange="disableSection(this)"/> Prefer not to
                    answer </label>

                </div>
            </div>
        </div>

        <div class="container section compactQuestion">
            <div id="section4"></div>
            <script>
                var data = {
                    "options":  [
                        { "value":0, "title":"Not at all"},
                        { "value":1, "title":"Slightly"},
                        { "value":2, "title":"Somewhat"},
                        { "value":3, "title":"Mostly"},
                        { "value":4, "title":"Very"}
                    ],
                    "questions": [
                        { "name":"Tiring",   "desc": "How tiring did you find the assessments?"},
                        { "name":"Distracted",   "desc": "On average, while you were completing the training sessions, how focused or distracted were you? "},
                        { "name":"similarProgram",   "desc": "If you were to seek help for your future thinking again, would you seek a similar program?"},
                    ]
                }
                $('#section4').html(Mustache.render( $('#template').val(), data ));
            </script>
        </div>

        <div class="container section">
            <div class="row">
                <div class="col-md-10">
                    <p class="question"> Where did you complete the training sessions? Select all that
                        apply </p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="radio">
                        <label><input type="checkbox" name="Home" value="Home"/> At home </label>
                    </div>
                    <div class="radio">
                        <label><input type="checkbox" name="Work" value="Work"/> At work
                        </label>
                    </div>
                    <div class="radio">
                        <label><input type="checkbox" name="Public" value="Public"/> At a public space, such
                            as a library, coffee shop, or restaurant
                        </label>
                    </div>
                    <div class="radio">
                        <label><input type="checkbox" name="Commute" value="Commute"/> While
                            commuting/traveling (e.g on the train to work) </label>
                    </div>
                    <div class="radio">
                        <label><input type="checkbox" name="Vacation" value="Vacation"/> On vacation
                        </label>
                    </div>
                    <div class="radio">
                        <label><input type="checkbox" name="OtherComplete" value="OtherComplete"/> Other
                            (Please specify) <input type="text" name="Other_Place"/>
                        </label>
                    </div>
                </div>

                <div class=" cold-md-4">
                    <br/>
                    <br/>
                    <div class="radio">
                        <label><input type="checkbox" name="NoAns_where" value="555"
                                      onchange="disableSection(this)"/> Prefer not to
                            answer </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="container section">
            <div class="row">
                <div class="col-md-10">
                    <p class="question"> Did you think you were in the active training condition (designed to change your
                        future thinking) or the “control” condition (not designed to change your future thinking)?</p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="radio">
                        <label><input class="option" type="radio" name="Condition" value="0" required="true"/> Active
                            training condition
                        </label>
                    </div>
                    <div class="radio">
                        <label><input class="option" type="radio" name="Condition" value="1"/> Control
                            condition
                        </label>
                    </div>
                </div>
                <div class=" cold-md-4">
                    <br/>
                    <br/>
                    <div class="radio">
                        <label><input type="checkbox" name="Condition" value="555"
                                      onchange="disableSection(this)"/>
                            Prefer not to
                            answer </label>
                    </div>
                </div>

            </div>

        </div>


        <div style="text-align:center">
            <button type="submit"> Continue</button>
        </div>
    -->
    </div>
</form>

<footer th:replace="fragment/common :: footer"/>

</body>
</html>


<!--Javascript
================================================== -->

<script type="text/javascript">


    // sub(id) and spec(id) are used to conditionally display the text "N/A" in the "Other" response text box.
    function sub(id) {
        if (document.getElementById(id).checked) {
            $("div#" + id + "-1").show();
            $("div#" + id + "-1 select").prop('required', true);
        }
        else {
            $("div#" + id + "-1").hide();
        }
    }

    function spec(id) {
        if (document.getElementById(id).checked) {
            document.getElementById(id + "_spec").required = true;
            if (document.getElementById(id + "_spec").value == "N/A") {
                document.getElementById(id + "_spec").value = "";
            }


        }
        else {
            document.getElementById(id + "_spec").value = "N/A";
            document.getElementById(id + "_spec").required = false;
        }
    }

    /**
     * Disables all other input boxes in the same section as the input
     * selected.
     * @param input
     */
    function disableSection(input) {
        if (input.checked) {
            $(input).closest('.section').find("input").not(input).prop('checked', false);
            $(input).closest('.section').find("option").prop('selected', false);
            $(input).closest('.section').find("select").prop('required', false);
            $(input).closest('.section').find("input").attr("disabled", true);
            $(input).removeAttr("disabled");
        } else {
            $(input).closest('.section').find("input").removeAttr("disabled");
        }
    }

</script>

<div th:include="fragment/common :: scripts"/>